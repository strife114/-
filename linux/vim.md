# vim模式

 **环境配置文件：~/.vimrc**

**会首先进入命令模式**

进入命令：vim  文件名

## **输入模式**

进入快捷键：i/a/o  退出快捷键：Esc

输入命令以及作用：

| 命令 | 作用                 |
| ---- | -------------------- |
| a    | 在光标所在字符后插入 |
| i    | 在光标所在字符前插入 |
| A    | 在光标所在行尾插入   |
| I    | 在光标所在行首插入   |
| o    | 在光标下插入新行     |
| O    | 在光标上插入新行     |

## **编辑模式**

进入快捷键：“：” 退出快捷键 ：回车键

| 命令        | 作用               |
| ----------- | ------------------ |
| :w          | 保存不退出         |
| :w 新文件名 | 把文件另存为新文件 |
| :q          | 不保存退出         |
| :wq         | 保存退出           |
| :q!         | 强制不保存退出     |
| :wq！       | 强制保存退出       |

退出命令模式快捷键：zz

## 命令模式

####  移动光标：

1.上下左右

 上下左右箭头键

  H左，l右，j下，k上  字母键

2.***\*光标移动文件头或尾\****

  gg  移动到文件头

  G  移动到文件尾

3.移动到行首或行尾

 ^  移动到行首

 $  移动到行尾

4.移动到指定行

 :n  移动到第几行  n是数字

 

####  删除或剪切

  1.删除字母

​    x  删除单个字母

​    nx  删除n个字母

   n是数字，如果打算从光标位置删除连续的10个字母，可以使用“10x”即可。

  2.删除整行或剪切

​    dd  删除单行

​    ndd  删除多行

​    :n1,n2d  删除指定范围的行

   dd即使删除也是剪切

   3.粘贴

​    p  粘贴到光标后

​    P  粘贴到光标前

4.从光标所在行删除到文件尾

  dG  从光标所在行删除到文件尾

  “d” 是删除行  “G ” 是文件尾

 

#### 复制

 yy  复制单行

 nyy  复制多行

#### 撤销

 u 撤销

 Ctrl+r  反撤销

#### 替换

 r  替换光标所在位置的字符

 R  从光标所在处开始替换字母，按Esc键结束

 

 

:set  nu 显示行号

:set  nonu 取消显示行号

:syntax on/off 是否根据语法显示相关的颜色帮助

:set  ruler/noruler  是否显示右下角的状态栏，默认显示

:set  showmode/noshowmode  是否显示“状态模式”左下角

:set  list/nolist  是否显示隐藏字符（Tab符用“^I”表示，回车符用“$”表示）

临时生效，想要永久生效需要手工建立vim的配置文件“~/.vimrc”,把需要的参数写入即可

 补充：windows下回车符在Linux中用“^M$”符号显示，而不是“$”符，这样会导致Windows下编辑的程序脚本无法在linux中执行

可以通过“dos2unix”命令，把windows格式转为linux格式

反过来“unix2dos”命令，把linux格式转为windows格式

两个命令默认没有安装，需要手工安装

2=to

 

#### 查找命令

 /查找内容  从光标所在行向下查找

 ?查找内容  从光标所在行向上搜索

 n  下一个

 N  上一个

#### **替换命令**

 :1,10s/old/new/g  替换1到10行所有old为new

 :%s/old/new/g   替换整个文件的old为new

 

:1,10s/^/#/g  注释1到10行

:1,10s/^#/g  取消注释

c语言和php用//   \转置符

:1,10s/^/  \/\/  /g  1到10行，行首加入//

:1,10s/^\/\///g  取消1到10行首的//



Vim使用技巧

 :文件名  把文件内容导入光标位置

 :!命令   在vim中执行系统命令

只是在vim模式中执行系统命令。并不把系统命令的结果写入文件中，主要用于在文件编辑中，查看系统信息，如时间

 

:r !命令 在vim中执行系统命令，并把命令结果导入光标所在行

 ***\*设定快捷键\****

 :map 快捷键 快捷键执行命令  自定义快捷键

 :map ^p  I#<ESC>  按“ctrl+p”时，行首加入注释

 :map ^B  ^x    按“ctrl+b”时，删除行首第一个字母（删除注释）

^p不能手动输入，需要组合键ctrl+v+r来定义。^B一样

 

***\*字符替换\****

 :ab 源字符 替换字符   字符替换

 :ab mymai  [shenchao@163.com](mailto:shenchao@163.com)  [当碰到“mymai”字符时替换为“shenchao@163.com”](mailto:当碰到\“mymai\”字符时替换为\“shenchao@163.com\”)

注意:源字符不应太短，会影响正常输入！

 

 

 

## 多文件打开

  vim  [选项]  文件一  文件二

   选项:

​     -o  小写o会上下分屏打开两个文件

​     -O  大写o会左右分屏打开两个文件

按住“Ctrl+w”再按对应（上下左右）箭头的方式可以使光标在两个文件之间切换

 

 

  